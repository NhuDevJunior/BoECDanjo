{% load static %}
{% load i18n %} 

{% block css %}
<style>
.header__top {
  background: #f5f5f5;
}

.header__top__left ul li:after {
    position: absolute;
    right: -25px;
    top: 1px;
    height: 20px;
    width: 1px;
    background: #000;
    opacity: .1;
    content: "";
}

.header__top__left {
    padding: 10px 0 13px;
}

.header__top__left ul {
  list-style: none;
  font-size: small;
  margin: 0;
  padding: 0;
}

.header__top__left ul li {
  font-size: 14px;
  color: #1c1c1c;
  display: inline-block;
  margin-right: 45px;
  position: relative;
}

.header__top__right {
    text-align: right;
    padding: 10px 0 13px;
}

.header__top__right__social {
    position: relative;
    display: inline-block;
    margin-right: 35px;
}

.header__top__right__social a {
    font-size: 14px;
    display: inline-block;
    color: #1c1c1c;
    margin-right: 20px;
}

.header__top__right__social:after {
    position: absolute;
    right: -20px;
    top: 1px;
    height: 20px;
    width: 1px;
    background: #000;
    opacity: .1;
    content: "";
}

.header__top__right__language {
    position: relative;
    display: inline-block;
    margin-right: 40px;
    cursor: pointer;
}

.header__top__right__language img {
  width: 27px;
  height: 14px;
}

.header__top__right__language ul {
    background: #222;
    color: white;
    width: 100px;
    text-align: left;
    padding: 5px 0;
    position: absolute;
    left: 0;
    padding: 0;
    margin: 0;
    list-style: none;
    z-index: 9;
    opacity: 0;
    visibility: hidden;
    overflow: hidden;
    -webkit-transition: all , .3s;
    -moz-transition: all , .3s;
    -ms-transition: all , .3s;
    -o-transition: all , .3s;
    transition: all , .3s;
}

.header__top__right__language:hover  ul {
    opacity: 1;
    visibility: visible;
}

.header__top__right__language ul li {
    padding: 10px;
    border-bottom: 1px solid #a9a8a891;
    font-size: 14px;
}

.header__top__right__language ul li:hover {
    background: #d8d2d291;
}

.header__top__right__language ul li a {
    font-size: 14px;
    text-decoration: none;
    display: block;
    color: white;
}

.header__top__right__language div {
    font-size: 14px;
    color: #1c1c1c;
    display: inline-block;
    margin-right: 4px;
}

.header__top__right__language span {
    font-size: 14px;
    color: #1c1c1c;
    position: relative;
}

.arrow_carrot-down:before {
   font-family: FontAwesome;
   content: "\f107" !important;
   display: inline-block;
   padding-left: 3px;
   vertical-align: middle;
}

.header__top__right__auth {
    position: relative;
    display: inline-block;
    cursor: pointer;
}

.header__top__right__auth a {
    display: block;
    font-size: 14px;
    color: #1c1c1c;
}

.header__top__right__auth a i {
  margin-right: 6px;
}

.header__top__right__auth img {
  vertical-align: middle;
  border-style: none;
  max-height: 36px;
  max-width: 36px;
  border-radius: 50%;
  border: 3px solid #ff9800;
}

.header__top__right__auth div {
  font-size: 14px;
  color: #1c1c1c;
  display: inline-block;
  margin-right: 4px;
}

.header__top__right__auth ul {
    background: #222;
    color: white;
    width: 150px;
    text-align: left;
    padding: 5px 0;
    position: absolute;
    left: 0;
    padding: 0;
    margin: 0;
    left: 0;
    z-index: 9;
    opacity: 0;
    visibility: hidden;
    overflow: hidden;
    -webkit-transition: all , .3s;
    -moz-transition: all , .3s;
    -ms-transition: all , .3s;
    -o-transition: all , .3s;
    transition: all , .3s;
}

.header__top__right__auth:hover  ul {
    opacity: 1;
    visibility: visible;
}

.header__top__right__auth ul li {
    padding: 10px;
    border-bottom: 1px solid #a9a8a891;
}

.header__top__right__auth ul li:hover {
  background: #d8d2d291;
}

.header__top__right__auth ul li a{
  text-decoration: none;
  color: white;
}

</style>

{% endblock css %}

<div class="header__top">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 col-md-6">
        <div class="header__top__left">
        <ul>
        <li><i class="fa fa-envelope"></i> HanCongNhu1999@gmail.com</li>
        </ul>
        </div>
      </div>
      <div class="col-lg-6 col-md-6">
        <div class="header__top__right">
          <div class="header__top__right__social">
            <a href="#"><i class="fa fa-facebook"></i></a>
            <a href="#"><i class="fa fa-twitter"></i></a>
            <a href="#"><i class="fa fa-linkedin"></i></a>
            <a href="#"><i class="fa fa-pinterest-p"></i></a>
          </div>
          <div class="header__top__right__language">
            <img id="current-lang-img" src="data:image/webp;base64,UklGRowAAABXRUJQVlA4IIAAAABwAwCdASobAA4APm0skkWkIqGYBABABsSxAE6ADcGtd+FD6qAA/vV+Wp4VqyJwr3tsqzUVysGAxh5jK++StlIxrHdqkxyfiwYlcgHy6RWg//tsvaTR2IctDJnOE/5mY93zrj0P0ea+n9DmVodGk7RubcK/qHhB4yLFEzBhQuGAAA==" alt="">
            <div id="current-lang-text">English</div>
            <span class="arrow_carrot-down"></span>
            <ul>
              <li id="vi_choice">Vietnamese</li>
              <li id="en_choice">English</li>
            </ul>
          </div>
          <div class="header__top__right__auth">
            {% if user.name %}
              <i class="fa fa-user"></i>
              <div>{{ user.name }}</div>
              <span class="arrow_carrot-down"></span>
              <ul>
                <li><a href="{% url 'user.view_profile' %}">{% trans "user-infomation" %}</a></li>
                <li><a href="{% url 'user.view_orders' %}">{% trans "user-order" %}</a></li>
                <li><a href="{% url 'user.logout' %}">{% trans "user-exits" %}</a></li>
              </ul>
            {% else %}
              <a href="{% url 'user.login' %}"><i class="fa fa-user"></i> {% trans "login" %}</a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% block script %}

  <script>
      let englishFlagImg = 'data:image/webp;base64,UklGRowAAABXRUJQVlA4IIAAAABwAwCdASobAA4APm0skkWkIqGYBABABsSxAE6ADcGtd+FD6qAA/vV+Wp4VqyJwr3tsqzUVysGAxh5jK++StlIxrHdqkxyfiwYlcgHy6RWg//tsvaTR2IctDJnOE/5mY93zrj0P0ea+n9DmVodGk7RubcK/qHhB4yLFEzBhQuGAAA=='
      let vietnameseFlagImg = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5MDAgNjAwIj4NCjxwYXRoIGZpbGw9IiNkYTI1MWQiIGQ9Im0wLDBoOTAwdjYwMGgtOTAweiIvPg0KPHBhdGggZmlsbD0iI2ZmMCIgZD0ibTQ5NC44NSwyMzcuNTEyaDE0NS4xNWwtMTE3LjQyLDg0Ljk4NSA0NC44NSwxMzcuNTAzLTExNy40My04NC45ODQtMTE3LjQzLDg0Ljk4NCA0NC44Ni0xMzcuNTAzLTExNy40My04NC45ODVoMTQ1LjE1bDQ0Ljg1LTEzNy41MTIgNDQuODUsMTM3LjUxMnoiLz4NCjwvc3ZnPg0K'

      let currentLangText = document.getElementById('current-lang-text')
      let currentLangImg = document.getElementById('current-lang-img')

      let langCode = window.location.pathname.split('/')[1]
      if (langCode === 'vi'){
        currentLangText.innerText = 'Viá»‡t Nam'
        currentLangImg.src = vietnameseFlagImg
      }
      else{
        currentLangText.innerText = 'English'
        currentLangImg.src = englishFlagImg
      }

      let viChoice = document.getElementById('vi_choice')
      let enChoice = document.getElementById('en_choice')

      viChoice.addEventListener('click', function(){
        let currentPath = window.location.pathname.split('/')
        currentPath[1] = "vi"
        let newPath = currentPath.join('/')
        window.location.href = window.location.origin + newPath + window.location.search
      })

      enChoice.addEventListener('click', function(){
        let currentPath = window.location.pathname.split('/')
        currentPath[1] = "en"
        let newPath = currentPath.join('/')
        window.location.href = window.location.origin + newPath + window.location.search
      })

  </script>

{% endblock %}
